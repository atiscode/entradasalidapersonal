@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div id="cargando-grid">
    <div id="preloader-grid"></div>
</div>

@Html.AjaxGrid(Url.Action("_IndexGrid"))

@section ViewSpecificJavascript {
    <script>
        
        var idGrid = "grid-SugerenciaEquiposCargo";

        var urlAccionFormulario = '@Url.Action("_Formulario")';

        var urlAccionReporteExcel = '@Url.Action("DescargarReporteFormatoExcel")';
        var urlAccionReportePDF = '@Url.Action("DescargarReporteFormatoPDF")';
        var urlAccionReporteCSV = '@Url.Action("DescargarReporteFormatoCSV")';

        $(document).ready(function () {
            
            recargarGridByID(idGrid);
        })

        function CrearRegistro() {
            _GetCreate(null, urlAccionFormulario);
            $('#contenido-modal').modal({
                'show': 'true',
                'backdrop': 'static',
                'keyboard': false
            });
        }

        function ExportarRegistrosFormatoEXCEL() {
            location.href = urlAccionReporteExcel;
        }
        function ExportarRegistrosFormatoPDF() {
            location.href = urlAccionReportePDF;
        }
        function ExportarRegistrosFormatoCSV() {
            location.href = urlAccionReporteCSV;
        }

        function RecargarDatosGrid() {
            recargarGridByID(idGrid);
        }

        $(document).keydown(callBackBusqueda);
        $(document).keypress(callBackBusqueda);
        $(document).keyup(callBackBusqueda);

        function callBackBusqueda(e) {
            
            busquedaGrid(idGrid);
        }

        $('#contenido-modal').on('hidden.bs.modal', function () {
            
            RecargarDatosGrid()
        })
    </script>

    <script src="~/Content/js/plugins/select2/select2.min.js"></script>
}

